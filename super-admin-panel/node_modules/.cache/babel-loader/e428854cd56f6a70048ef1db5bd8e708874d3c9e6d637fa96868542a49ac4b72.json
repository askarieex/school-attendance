{"ast":null,"code":"var _jsxFileName = \"/Users/askerymalik/Documents/Development/school-attendance-sysytem/super-admin-panel/src/pages/Devices.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { FiPlus, FiTrash2, FiCopy, FiCheck } from 'react-icons/fi';\nimport { devicesAPI, schoolsAPI } from '../utils/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Devices = () => {\n  _s();\n  const [devices, setDevices] = useState([]);\n  const [schools, setSchools] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [copiedId, setCopiedId] = useState(null);\n  const [formData, setFormData] = useState({\n    schoolId: '',\n    serialNumber: '',\n    deviceName: '',\n    location: '',\n    deviceType: 'ZKTECO',\n    deviceModel: 'K40 Pro'\n  });\n  const deviceTypes = [{\n    value: 'ZKTECO',\n    label: 'ZKTeco',\n    models: ['K40 Pro', 'F18', 'MB560', 'MA300']\n  }, {\n    value: 'HID',\n    label: 'HID Global',\n    models: ['MultiCLASS SE RP40', 'Signo 40', 'iCLASS SE R40']\n  }, {\n    value: 'SUPREMA',\n    label: 'Suprema',\n    models: ['BioStation 2', 'BioStation 3', 'BioLite N2']\n  }, {\n    value: 'ANVIZ',\n    label: 'Anviz',\n    models: ['FacePass 7', 'M5', 'OA1000']\n  }, {\n    value: 'HIKVISION',\n    label: 'Hikvision',\n    models: ['DS-K1T671TM-3XF', 'MinMoe', 'K3']\n  }, {\n    value: 'GENERIC',\n    label: 'Other/Generic',\n    models: ['Generic RFID Reader']\n  }];\n  useEffect(() => {\n    fetchDevices();\n    fetchSchools();\n  }, []);\n  const fetchDevices = async () => {\n    try {\n      const response = await devicesAPI.getAll();\n      if (response.success) {\n        // Backend returns data as an array directly, not data.devices\n        setDevices(response.data || []);\n      }\n    } catch (error) {\n      console.error('Failed to fetch devices:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchSchools = async () => {\n    try {\n      const response = await schoolsAPI.getAll();\n      if (response.success) {\n        // Backend returns data as an array directly, not data.schools\n        setSchools(response.data || []);\n      }\n    } catch (error) {\n      console.error('Failed to fetch schools:', error);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await devicesAPI.create(formData);\n      alert('Device registered successfully! API Key has been generated.');\n      setShowModal(false);\n      resetForm();\n      fetchDevices();\n    } catch (error) {\n      alert(error.message || 'Failed to register device');\n    }\n  };\n  const handleDelete = async id => {\n    if (window.confirm('Are you sure? This will revoke the device API key.')) {\n      try {\n        await devicesAPI.delete(id);\n        alert('Device deactivated successfully');\n        fetchDevices();\n      } catch (error) {\n        alert('Failed to deactivate device');\n      }\n    }\n  };\n  const copyToClipboard = async (text, id) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopiedId(id);\n      setTimeout(() => setCopiedId(null), 2000);\n    } catch (err) {\n      alert('Failed to copy');\n    }\n  };\n  const resetForm = () => {\n    setFormData({\n      schoolId: '',\n      serialNumber: '',\n      deviceName: '',\n      location: '',\n      deviceType: 'ZKTECO',\n      deviceModel: 'K40 Pro'\n    });\n  };\n  const handleDeviceTypeChange = newType => {\n    const selectedDeviceType = deviceTypes.find(dt => dt.value === newType);\n    setFormData({\n      ...formData,\n      deviceType: newType,\n      deviceModel: (selectedDeviceType === null || selectedDeviceType === void 0 ? void 0 : selectedDeviceType.models[0]) || ''\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '32px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            fontSize: '2rem',\n            fontWeight: '700',\n            marginBottom: '8px'\n          },\n          children: \"Hardware Devices\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b'\n          },\n          children: \"Manage RFID scanners and generate API keys\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => setShowModal(true),\n        children: [/*#__PURE__*/_jsxDEV(FiPlus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), \" Register Device\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-info\",\n      style: {\n        marginBottom: '24px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\uD83D\\uDCCC Register your ZKTeco K40 Pro device using its physical Serial Number (found on the device label). This ties the physical hardware to your platform for secure authentication.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        padding: '60px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Device Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"School\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Serial Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Last Seen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: devices.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"7\",\n              style: {\n                textAlign: 'center',\n                padding: '40px',\n                color: '#64748b'\n              },\n              children: \"No devices registered yet. Add your first RFID device!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this) : devices.map(device => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: '600'\n                },\n                children: device.device_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: device.school_name || 'Unknown'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: device.location || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"code\", {\n                  style: {\n                    background: '#f1f5f9',\n                    padding: '4px 8px',\n                    borderRadius: '4px',\n                    fontSize: '12px',\n                    fontFamily: 'monospace',\n                    fontWeight: '600'\n                  },\n                  children: device.serial_number || device.api_key\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => copyToClipboard(device.serial_number || device.api_key, device.id),\n                  style: {\n                    background: 'none',\n                    border: 'none',\n                    cursor: 'pointer',\n                    color: copiedId === device.id ? '#10b981' : '#64748b'\n                  },\n                  title: \"Copy serial number\",\n                  children: copiedId === device.id ? /*#__PURE__*/_jsxDEV(FiCheck, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 53\n                  }, this) : /*#__PURE__*/_jsxDEV(FiCopy, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 67\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `badge badge-${device.is_active ? 'success' : 'danger'}`,\n                children: device.is_active ? 'Active' : 'Inactive'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                fontSize: '13px',\n                color: '#64748b'\n              },\n              children: device.last_seen ? new Date(device.last_seen).toLocaleString() : 'Never'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                style: {\n                  padding: '6px 12px'\n                },\n                onClick: () => handleDelete(device.id),\n                children: /*#__PURE__*/_jsxDEV(FiTrash2, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 21\n            }, this)]\n          }, device.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontSize: '1.5rem',\n            fontWeight: '700',\n            marginBottom: '24px'\n          },\n          children: \"Register New Device\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gap: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  marginBottom: '8px',\n                  fontWeight: '600'\n                },\n                children: \"Select School *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"input\",\n                value: formData.schoolId,\n                onChange: e => setFormData({\n                  ...formData,\n                  schoolId: e.target.value\n                }),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Choose a school...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 21\n                }, this), schools.map(school => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: school.id,\n                  children: school.name\n                }, school.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  marginBottom: '8px',\n                  fontWeight: '600'\n                },\n                children: \"Device Serial Number *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input\",\n                placeholder: \"e.g., ZK12345678\",\n                value: formData.serialNumber,\n                onChange: e => setFormData({\n                  ...formData,\n                  serialNumber: e.target.value.trim()\n                }),\n                required: true,\n                style: {\n                  fontFamily: 'monospace',\n                  letterSpacing: '0.5px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#64748b',\n                  fontSize: '13px'\n                },\n                children: \"\\uD83D\\uDCCD Enter the Serial Number printed on the device label (usually starts with \\\"ZK\\\")\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  marginBottom: '8px',\n                  fontWeight: '600'\n                },\n                children: \"Device Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input\",\n                placeholder: \"e.g., Main Entrance Scanner\",\n                value: formData.deviceName,\n                onChange: e => setFormData({\n                  ...formData,\n                  deviceName: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#64748b',\n                  fontSize: '13px'\n                },\n                children: \"Give this device a friendly, descriptive name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  marginBottom: '8px',\n                  fontWeight: '600'\n                },\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input\",\n                placeholder: \"e.g., Building A - Ground Floor\",\n                value: formData.location,\n                onChange: e => setFormData({\n                  ...formData,\n                  location: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  color: '#64748b',\n                  fontSize: '13px'\n                },\n                children: \"Physical location of the device\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-warning\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u26A0\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Important:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 24\n                }, this), \" The Serial Number is the unique identifier from your ZKTeco K40 Pro device. Find it on the sticker on the back of the device. This cannot be changed after registration.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '12px',\n              marginTop: '24px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              style: {\n                flex: 1\n              },\n              children: \"Register Device\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-outline\",\n              onClick: () => setShowModal(false),\n              style: {\n                flex: 1\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(Devices, \"8i6f80Ye6QArH807GeZequgCfvw=\");\n_c = Devices;\nexport default Devices;\nvar _c;\n$RefreshReg$(_c, \"Devices\");","map":{"version":3,"names":["React","useState","useEffect","FiPlus","FiTrash2","FiCopy","FiCheck","devicesAPI","schoolsAPI","jsxDEV","_jsxDEV","Devices","_s","devices","setDevices","schools","setSchools","loading","setLoading","showModal","setShowModal","copiedId","setCopiedId","formData","setFormData","schoolId","serialNumber","deviceName","location","deviceType","deviceModel","deviceTypes","value","label","models","fetchDevices","fetchSchools","response","getAll","success","data","error","console","handleSubmit","e","preventDefault","create","alert","resetForm","message","handleDelete","id","window","confirm","delete","copyToClipboard","text","navigator","clipboard","writeText","setTimeout","err","handleDeviceTypeChange","newType","selectedDeviceType","find","dt","children","style","display","justifyContent","alignItems","marginBottom","fontSize","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","color","className","onClick","padding","length","colSpan","textAlign","map","device","device_name","school_name","gap","background","borderRadius","fontFamily","serial_number","api_key","border","cursor","title","is_active","last_seen","Date","toLocaleString","size","stopPropagation","onSubmit","onChange","target","required","school","name","type","placeholder","trim","letterSpacing","marginTop","flex","_c","$RefreshReg$"],"sources":["/Users/askerymalik/Documents/Development/school-attendance-sysytem/super-admin-panel/src/pages/Devices.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FiPlus, FiTrash2, FiCopy, FiCheck } from 'react-icons/fi';\nimport { devicesAPI, schoolsAPI } from '../utils/api';\n\nconst Devices = () => {\n  const [devices, setDevices] = useState([]);\n  const [schools, setSchools] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [copiedId, setCopiedId] = useState(null);\n  const [formData, setFormData] = useState({\n    schoolId: '',\n    serialNumber: '',\n    deviceName: '',\n    location: '',\n    deviceType: 'ZKTECO',\n    deviceModel: 'K40 Pro',\n  });\n\n  const deviceTypes = [\n    { value: 'ZKTECO', label: 'ZKTeco', models: ['K40 Pro', 'F18', 'MB560', 'MA300'] },\n    { value: 'HID', label: 'HID Global', models: ['MultiCLASS SE RP40', 'Signo 40', 'iCLASS SE R40'] },\n    { value: 'SUPREMA', label: 'Suprema', models: ['BioStation 2', 'BioStation 3', 'BioLite N2'] },\n    { value: 'ANVIZ', label: 'Anviz', models: ['FacePass 7', 'M5', 'OA1000'] },\n    { value: 'HIKVISION', label: 'Hikvision', models: ['DS-K1T671TM-3XF', 'MinMoe', 'K3'] },\n    { value: 'GENERIC', label: 'Other/Generic', models: ['Generic RFID Reader'] },\n  ];\n\n  useEffect(() => {\n    fetchDevices();\n    fetchSchools();\n  }, []);\n\n  const fetchDevices = async () => {\n    try {\n      const response = await devicesAPI.getAll();\n      if (response.success) {\n        // Backend returns data as an array directly, not data.devices\n        setDevices(response.data || []);\n      }\n    } catch (error) {\n      console.error('Failed to fetch devices:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSchools = async () => {\n    try {\n      const response = await schoolsAPI.getAll();\n      if (response.success) {\n        // Backend returns data as an array directly, not data.schools\n        setSchools(response.data || []);\n      }\n    } catch (error) {\n      console.error('Failed to fetch schools:', error);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await devicesAPI.create(formData);\n      alert('Device registered successfully! API Key has been generated.');\n      setShowModal(false);\n      resetForm();\n      fetchDevices();\n    } catch (error) {\n      alert(error.message || 'Failed to register device');\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (window.confirm('Are you sure? This will revoke the device API key.')) {\n      try {\n        await devicesAPI.delete(id);\n        alert('Device deactivated successfully');\n        fetchDevices();\n      } catch (error) {\n        alert('Failed to deactivate device');\n      }\n    }\n  };\n\n  const copyToClipboard = async (text, id) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopiedId(id);\n      setTimeout(() => setCopiedId(null), 2000);\n    } catch (err) {\n      alert('Failed to copy');\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      schoolId: '',\n      serialNumber: '',\n      deviceName: '',\n      location: '',\n      deviceType: 'ZKTECO',\n      deviceModel: 'K40 Pro',\n    });\n  };\n\n  const handleDeviceTypeChange = (newType) => {\n    const selectedDeviceType = deviceTypes.find(dt => dt.value === newType);\n    setFormData({\n      ...formData,\n      deviceType: newType,\n      deviceModel: selectedDeviceType?.models[0] || '',\n    });\n  };\n\n  return (\n    <div>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '32px' }}>\n        <div>\n          <h1 style={{ fontSize: '2rem', fontWeight: '700', marginBottom: '8px' }}>Hardware Devices</h1>\n          <p style={{ color: '#64748b' }}>Manage RFID scanners and generate API keys</p>\n        </div>\n        <button className=\"btn btn-primary\" onClick={() => setShowModal(true)}>\n          <FiPlus /> Register Device\n        </button>\n      </div>\n\n      <div className=\"alert alert-info\" style={{ marginBottom: '24px' }}>\n        <span>\n          üìå Register your ZKTeco K40 Pro device using its physical Serial Number (found on the device label).\n          This ties the physical hardware to your platform for secure authentication.\n        </span>\n      </div>\n\n      {loading ? (\n        <div style={{ display: 'flex', justifyContent: 'center', padding: '60px' }}>\n          <div className=\"spinner\"></div>\n        </div>\n      ) : (\n        <div className=\"table-container\">\n          <table>\n            <thead>\n              <tr>\n                <th>Device Name</th>\n                <th>School</th>\n                <th>Location</th>\n                <th>Serial Number</th>\n                <th>Status</th>\n                <th>Last Seen</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {devices.length === 0 ? (\n                <tr>\n                  <td colSpan=\"7\" style={{ textAlign: 'center', padding: '40px', color: '#64748b' }}>\n                    No devices registered yet. Add your first RFID device!\n                  </td>\n                </tr>\n              ) : (\n                devices.map((device) => (\n                  <tr key={device.id}>\n                    <td>\n                      <div style={{ fontWeight: '600' }}>{device.device_name}</div>\n                    </td>\n                    <td>{device.school_name || 'Unknown'}</td>\n                    <td>{device.location || '-'}</td>\n                    <td>\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                        <code style={{\n                          background: '#f1f5f9',\n                          padding: '4px 8px',\n                          borderRadius: '4px',\n                          fontSize: '12px',\n                          fontFamily: 'monospace',\n                          fontWeight: '600',\n                        }}>\n                          {device.serial_number || device.api_key}\n                        </code>\n                        <button\n                          onClick={() => copyToClipboard(device.serial_number || device.api_key, device.id)}\n                          style={{\n                            background: 'none',\n                            border: 'none',\n                            cursor: 'pointer',\n                            color: copiedId === device.id ? '#10b981' : '#64748b',\n                          }}\n                          title=\"Copy serial number\"\n                        >\n                          {copiedId === device.id ? <FiCheck /> : <FiCopy />}\n                        </button>\n                      </div>\n                    </td>\n                    <td>\n                      <span className={`badge badge-${device.is_active ? 'success' : 'danger'}`}>\n                        {device.is_active ? 'Active' : 'Inactive'}\n                      </span>\n                    </td>\n                    <td style={{ fontSize: '13px', color: '#64748b' }}>\n                      {device.last_seen\n                        ? new Date(device.last_seen).toLocaleString()\n                        : 'Never'}\n                    </td>\n                    <td>\n                      <button\n                        className=\"btn btn-danger\"\n                        style={{ padding: '6px 12px' }}\n                        onClick={() => handleDelete(device.id)}\n                      >\n                        <FiTrash2 size={16} />\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"modal-overlay\" onClick={() => setShowModal(false)}>\n          <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\n            <h2 style={{ fontSize: '1.5rem', fontWeight: '700', marginBottom: '24px' }}>\n              Register New Device\n            </h2>\n            <form onSubmit={handleSubmit}>\n              <div style={{ display: 'grid', gap: '16px' }}>\n                <div>\n                  <label style={{ display: 'block', marginBottom: '8px', fontWeight: '600' }}>\n                    Select School *\n                  </label>\n                  <select\n                    className=\"input\"\n                    value={formData.schoolId}\n                    onChange={(e) => setFormData({ ...formData, schoolId: e.target.value })}\n                    required\n                  >\n                    <option value=\"\">Choose a school...</option>\n                    {schools.map((school) => (\n                      <option key={school.id} value={school.id}>\n                        {school.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label style={{ display: 'block', marginBottom: '8px', fontWeight: '600' }}>\n                    Device Serial Number *\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"input\"\n                    placeholder=\"e.g., ZK12345678\"\n                    value={formData.serialNumber}\n                    onChange={(e) => setFormData({ ...formData, serialNumber: e.target.value.trim() })}\n                    required\n                    style={{ fontFamily: 'monospace', letterSpacing: '0.5px' }}\n                  />\n                  <small style={{ color: '#64748b', fontSize: '13px' }}>\n                    üìç Enter the Serial Number printed on the device label (usually starts with \"ZK\")\n                  </small>\n                </div>\n\n                <div>\n                  <label style={{ display: 'block', marginBottom: '8px', fontWeight: '600' }}>\n                    Device Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"input\"\n                    placeholder=\"e.g., Main Entrance Scanner\"\n                    value={formData.deviceName}\n                    onChange={(e) => setFormData({ ...formData, deviceName: e.target.value })}\n                    required\n                  />\n                  <small style={{ color: '#64748b', fontSize: '13px' }}>\n                    Give this device a friendly, descriptive name\n                  </small>\n                </div>\n\n                <div>\n                  <label style={{ display: 'block', marginBottom: '8px', fontWeight: '600' }}>\n                    Location\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"input\"\n                    placeholder=\"e.g., Building A - Ground Floor\"\n                    value={formData.location}\n                    onChange={(e) => setFormData({ ...formData, location: e.target.value })}\n                  />\n                  <small style={{ color: '#64748b', fontSize: '13px' }}>\n                    Physical location of the device\n                  </small>\n                </div>\n\n                <div className=\"alert alert-warning\">\n                  <span>\n                    ‚ö†Ô∏è <strong>Important:</strong> The Serial Number is the unique identifier from your ZKTeco K40 Pro device.\n                    Find it on the sticker on the back of the device. This cannot be changed after registration.\n                  </span>\n                </div>\n              </div>\n\n              <div style={{ display: 'flex', gap: '12px', marginTop: '24px' }}>\n                <button type=\"submit\" className=\"btn btn-primary\" style={{ flex: 1 }}>\n                  Register Device\n                </button>\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline\"\n                  onClick={() => setShowModal(false)}\n                  style={{ flex: 1 }}\n                >\n                  Cancel\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Devices;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}